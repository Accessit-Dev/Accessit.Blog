@model Orchard.ContentTypes.ViewModels.EditPartViewModel
@{
    Style.Require("ContentTypesAdmin");
    Script.Require("jQuery");
    Layout.Title = T("Edit Part").ToString();
}
<div class="panel-body">
    @using (Html.BeginFormAntiForgeryPost()) {
        @Html.ValidationSummary()
        <div class="row">
            <div class="col-md-6">
                <fieldset class="input-group">
                    <label for="Name">@T("Name")</label>
                    @* has unintended consequences (renaming the part) - changing the name creates a new part of that name  *@
                    @Html.TextBoxFor(m => m.Name, new { @class = "text medium", disabled = "disabled" })
                    @Html.HiddenFor(m => m.Name)
                </fieldset>
                <fieldset class="manage-part input-group">
                    <div class="settings">
                        @{ Html.RenderTemplates(Model.Templates); }
                    </div>
                </fieldset>
            </div>
            <div class="col-md-6">
                <label>
                    @T("Fields")
                </label>

                <div class="tools">
                    @Html.ActionLink(T("Add Field").Text, "AddFieldTo", new { area = "Orchard.ContentTypes", id = Model.Name }, new { @class = "btn btn-primary pull-right" })
                </div>
                <div class="title">
                    <fieldset class="bulk-actions input-group-sm">
                        <input id="search-box" class="form-control input-sm" type="search" aria-controls="contenttypes" autofocus="autofocus" placeholder="@T("Filter")">
                    </fieldset>
                </div>
                @Html.EditorFor(m => m.Fields, "Fields", "")
            </div>
        </div>
        <fieldset class="text-left">
            <button class="btn btn-primary" type="submit" name="submit.Save" value="Save">@T("Save")</button>
            <button class="btn btn-danger" type="submit" name="submit.Delete" value="Delete" itemprop="RemoveUrl">@T("Delete")</button>
        </fieldset>
                        }
</div>
@using(Script.Foot()){
<script type="text/javascript">
//<![CDATA[
    (function ($) {
        $(".manage-field h3,.manage-part h3").expandoControl(function (controller) { return controller.nextAll(".details"); }, { collapse: true, remember: false });
        $(".manage-field h4").expandoControl(function (controller) { return controller.nextAll(".settings"); }, { collapse: true, remember: false });
    })(jQuery);
//]]>
</script>
}